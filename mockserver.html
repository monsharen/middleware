<!doctype html>
<html ng-app="middlewareServerApp">
	<head>
		<title>middlewareServerApp</title>

		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.min.js"></script>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous"></script>

		<script src="script.js"></script>
		<script src="services.js"></script>
		<script src="directives.js"></script>
		<link rel="stylesheet" type="text/css" href="style.css" />

		<meta name="referrer" content="default">
	</head>
	<body ng-controller="MiddlewareServerController as ctrl" id="middlewareServerController">
		<div ng-if="!ctrl.authenticationToken">
			<div class="" style="color: floralwhite;">
				<center>
					<h1>Authentication failed</h1>					
				</center>
			</div>
		</div>

		<div ng-if="ctrl.authenticationToken">
			<h1>Global Settings</h1>
			<table>
				<tr>
					<td>Salesforce id</td><td>{{ctrl.authenticationToken}}</td>
				</tr>
				<tr>
					<td>Extension id</td><td><select ng-model="ctrl.extensionId" ng-options="extensionId for extensionId in ctrl.extensionIds"></select></td>
				</tr>
				<tr>
					<td>Phone number</td><td><input type="text" ng-model="ctrl.phoneNumber" /></td>
				</tr>
			</table>

			<h1>Available API calls</h1>
			<h2>Add call</h2>
			<table>
				<tr>
					<td>WhatId</td>
					<td>Description</td>
					<td>ActivityDate</td>
					<td>Priority</td>
					<td>Subject</td>
					<td>Status</td>
					<td></td>
				</tr>
				<tr>			
					<td><input type="text" ng-model="ctrl.phoneNumber" /></td>
					<td><input type="text" ng-model="ctrl.requests.addcall.Description" /></td>
					<td><input type="text" ng-model="ctrl.requests.addcall.ActivityDate" /></td>
					<td><input type="text" ng-model="ctrl.requests.addcall.Priority" /></td>
					<td><input type="text" ng-model="ctrl.requests.addcall.Subject" /></td>
					<td><input type="text" ng-model="ctrl.requests.addcall.Status" /></td>
					<td><button class="btn btn-primary btn-lg btn-info" ng-click="ctrl.sendRequest(ctrl.requests.addcall)">Send</button></td>
				</tr>
			</table>

		</div>
	</body>
</html>
